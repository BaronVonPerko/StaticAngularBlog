<ngx-loading-bar color="#22d3ee" [includeSpinner]="false"
                 [includeBar]="true"></ngx-loading-bar>

<div class="h-screen flex overflow-hidden bg-slate-100">

  <app-menu #theMenu></app-menu>

  <div class="flex flex-col w-0 flex-1 overflow-hidden">
    <div class="relative shrink-0 flex h-16 bg-slate-100 shadow-lg">
      <button (click)="openSidebar()"
              class="px-4 border-r border-cyan-200 text-cyan-500 focus:outline-none focus:bg-cyan-100 focus:text-cyan-600">
        <svg class="h-6 w-6"
             stroke="currentColor"
             fill="none"
             viewBox="0 0 24 24">
          <path stroke-linecap="round"
                stroke-linejoin="round"
                stroke-width="2"
                d="M4 6h16M4 12h16M4 18h7"/>
        </svg>
      </button>
      <div class="flex-1 px-4 flex justify-between">
        <div class="flex-1 flex">
          <div class="w-full flex md:ml-0">
            <label for="search_field"
                   class="sr-only">Search</label>
            <div class="relative w-full text-cyan-400 focus-within:text-cyan-600">
              <div class="absolute inset-y-0 left-0 flex items-center pointer-events-none">
                <svg class="h-5 w-5"
                     fill="currentColor"
                     viewBox="0 0 20 20">
                  <path fill-rule="evenodd"
                        clip-rule="evenodd"
                        d="M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"/>
                </svg>
              </div>
              <input id="search_field"
                     (input)="onSearchChanged($event.target.value)"
                     (blur)="saveSearchString()"
                     (focus)="restoreSearchString()"
                     class="block bg-slate-100 w-full h-full pl-8 pr-3 py-2 rounded-md text-cyan-600 placeholder-cyan-500 focus:outline-none focus:placeholder-cyan-400 sm:text-sm"
                     placeholder="Search"/>
              <app-search-results *ngIf="searchString"
                                  [searchString]="searchString"></app-search-results>
            </div>
          </div>
        </div>
      </div>
    </div>
    <main class="flex-1 relative z-0 overflow-y-auto py-6 focus:outline-none"
          tabindex="0"
          x-data
          x-init="$el.focus()">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 md:px-8">
        <div class="py-4">
          <router-outlet></router-outlet>
        </div>
      </div>
    </main>
  </div>
</div>
